{% extends "base.html" %}

{% block title %}Gesti√≥n de Miembros - Sistema Biblioteca{% endblock %}

{% block content %}
<h2>üë• Gesti√≥n de Miembros</h2>

<div class="card">
    <h3>Registrar Nuevo Miembro</h3>
    <form method="POST" action="{{ url_for('create_member_form') }}">
        <div class="grid-2">
            <div class="form-group">
                <label>Nombre</label>
                <input type="text" name="nombre" required>
            </div>
            <div class="form-group">
                <label>Apellido</label>
                <input type="text" name="apellido" required>
            </div>
            <div class="form-group">
                <label>Correo Electr√≥nico</label>
                <input type="email" name="correo" required>
            </div>
            <div class="form-group">
                <label>Tel√©fono</label>
                <input type="tel" name="telefono" required>
            </div>
        </div>
        <button type="submit" class="btn-primary">‚ûï Registrar Miembro</button>
    </form>
</div>

<div class="card">
    <h3>Lista de Miembros</h3>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre Completo</th>
                <th>Correo</th>
                <th>Tel√©fono</th>
                <th>Fecha Registro</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for miembro in miembros %}
            <tr>
                <td>{{ miembro.id }}</td>
                <td>{{ miembro.nombre }} {{ miembro.apellido }}</td>
                <td>{{ miembro.correo }}</td>
                <td>{{ miembro.telefono }}</td>
                <td>{{ miembro.fecha_registro.strftime('%d/%m/%Y') }}</td>
                <td class="actions">
                    <form method="POST" action="{{ url_for('delete_member_form', member_id=miembro.id) }}" style="display: inline;">
                        <button type="submit" class="btn-danger" onclick="return confirm('¬øEliminar este miembro?')">üóëÔ∏è</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}